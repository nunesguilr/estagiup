{% load static %}

<nav class="sidebar">
    <header>
        <div class="image-text">
            <span class="image">
                   <img src="{% static 'image/icon.svg' %}" alt="Icon EstagiUP" class="img-fluid">
            </span>
            <div class="text logo-text">
                <span class="name">EstagiUP</span>
                <span class="profession">Dashboard</span>
            </div>
        </div>

        <i class='bx bx-chevron-right toggle'></i>
    </header>

    <div class="menu-bar">
        <div class="menu">
            <ul class="menu-links">
                <li class="nav-link">
                    <a href="{% url 'dashboard' %}">
                        <i class='bx bx-home-alt icon'></i>
                        <span class="text nav-text">Dashboard</span>
                    </a>
                </li>

                <!-- Links para alunos -->
                {% if request.user.is_authenticated and request.user.groups.all.0.name == 'Alunos' %}
                    <li class="nav-link">
                        <a href="{% url 'usuario:editar_perfil' %}">
                            <i class='bx bx-user icon'></i>
                            <span class="text nav-text">Meu Perfil</span>
                        </a>
                    </li>
                    <li class="nav-link">
                        <a href="{% url 'vaga:vaga_list' %}">
                            <i class='bx bx-briefcase-alt-2 icon'></i>
                            <span class="text nav-text">Buscar Vagas</span>
                        </a>
                    </li>
                {% endif %}

                <!-- Links para responsáveis de instituição -->
                {% if request.user.is_authenticated and request.user.groups.all.0.name == 'Responsaveis da Instituicao' %}
                    <li class="nav-link">
                        <a href="{% url 'instituicao:cadastrar' %}">
                            <i class='bx bx-building-house icon'></i>
                            <span class="text nav-text">Cadastrar Instituição</span>
                        </a>
                    </li>
                    <li class="nav-link">
                        <a href="{% url 'instituicao:minhas_instituicoes' %}">
                            <i class='bx bx-building icon'></i>
                            <span class="text nav-text">Minhas Instituições</span>
                        </a>
                    </li>
                {% endif %}
                
                <!-- Links para administradores -->
                {% if request.user.is_authenticated and request.user.is_superuser %}
                    <li>
                        <a href="{% url 'usuario:lista_usuarios' %}">
                            <i class='bx bx-group icon'></i>
                            <span class="text nav-text">Usuários</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'admin:index' %}">
                            <i class='bx bx-cog icon'></i>
                            <span class="text nav-text">Administração</span>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </div>

        <div class="bottom-content">
            <li class="">
                <!-- Ação de Logout com formulário POST -->
                <form action="{% url 'logout' %}" method="post" id="logout-form">
                    {% csrf_token %}
                    <a href="javascript:void(0);" onclick="document.getElementById('logout-form').submit();">
                        <i class='bx bx-log-out icon'></i>
                        <span class="text nav-text">Sair</span>
                    </a>
                </form>
            </li>

        </div>
    </div>
</nav>
